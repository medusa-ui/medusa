<!DOCTYPE html>
<html lang="en"
      xmlns:m="https://medusa-ui.dev" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="https://medusa-ui.dev https://raw.githubusercontent.com/medusa-ui/medusa/poc/xml-parser/medusa-ui.xsd">
<head>
    <meta charset="UTF-8">
    <title>Medusa using HashMaps and Arrays</title>
    <link href="/stylesheet.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter&family=Merriweather&display=swap" rel="stylesheet">
</head>
<body>
<p>Person object: <span class="person-name"><m:text item="person.name" /></span></p>
<p>My map value: <span class="map-singleq-a"><m:text item="my-map['a']" /></span></p>
<p>My map value: <span class="map-doubleq-a"><m:text item='my-map["a"]' /></span></p>
<p>My array value: <span class="array-0"><m:text item="my-array[0]" /></span></p>
<p>Map value passed via click event: <span id="via-click-map"><m:text item="mapClickValue" /></span></p>
<p>Array value passed via click event: <span id="via-click-array"><m:text item="arrayClickValue" /></span></p>

<p>Map foreach:</p>
<m:foreach collection="my-map" eachName="mapEntry">
    <p class="map-foreach"><m:text item="mapEntry.key" /> - <m:text item="mapEntry.value" /></p>
</m:foreach>

<p>Array foreach:</p>
<m:foreach collection="my-array" eachName="arrayEntry">
    <p class="array-foreach"><m:text item="arrayEntry" /></p>
</m:foreach>

<button id="change-map" m:click="updateMap()">Update the map</button>
<br>
<button id="change-array" m:click="updateArray()">Update the array</button>
<br>
<button id="change-person" m:click="updatePerson()">Update person</button>
<br>
<button id="map-click-event" m:click="sampleClick(my-map['b'], 'map')">Click event with map</button>
<br>
<button id="array-click-event" m:click="sampleClick(my-array[0], 'array')">Click event with array</button>

<hr/>

<div id="iteration-entries">
    <m:foreach collection="my-map" eachName="mapEntry">
        <p class="nestedEntryLookup"><m:text item="mapEntry.key" /> # <m:text item="mapEntry[mapEntry.key]" /> # <m:text item="mapEntry.value" /></p>
    </m:foreach>
</div>
<hr/>

<div id="conditional-map-lookup">
    <m:if item="my-map['a']" eq="5">
        <p>My map equals 5</p>

        <m:else>
            <p>My map does not equals 5</p>
        </m:else>
    </m:if>
</div>

<hr/>

<div id="conditional-map-entry-lookup">
    <m:foreach collection="my-map" eachName="mapEntry">
        <m:if item="mapEntry.value" eq="5">
            <p class="equals-5">My map entry equals 5 (<m:text item="mapEntry.value" />)</p>

            <m:elseif condition="mapEntry.value" eq="3">
                <p class="equals-3">My map entry equals 3 (<m:text item="mapEntry.value" />)</p>
            </m:elseif>
            <m:else>
                <p class="not-equals-5">My map entry does not equals 5 (<m:text item="mapEntry.value" />)</p>
            </m:else>
        </m:if>
    </m:foreach>
</div>



</body>
</html>