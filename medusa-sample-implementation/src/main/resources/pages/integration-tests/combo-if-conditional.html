<!DOCTYPE html>
<html lang="en"
      xmlns:m="https://getmedusa.io" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="https://getmedusa.io https://raw.githubusercontent.com/medusa-ui/medusa/main/medusa-ui.xsd">
<head>
    <meta charset="UTF-8">
    <title>Medusa combo conditional/iteration</title>
    <link href="/stylesheet.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter&family=Merriweather&display=swap" rel="stylesheet">
    <style>
        div.iteration-wrapper {
            border: 1px solid #00dcff8a;
            margin: 1em;
            padding: 1em;
        }
        .conditional-ok {
            background: #4be57a40;
            margin: 0;
        }
        .conditional-bad {
            background: red;
            margin: 0;
        }
        .debug {
            font-family: monospace;
            padding: 0;
            margin: 1em 0 0;
            opacity: 0.7;
        }
    </style>
</head>
<body>
<h1>ðŸ¦‘ Combo iteration and conditionals</h1>

<h2 id="phase">Phase <m:text item="phase"/></h2>

<button id="phase-a-btn" m:click="changeBackToPhaseA()">Change to Phase A</button> <br>
<button id="phase-b-btn" m:click="changeToPhaseB()">Change to Phase B</button>

<div class="iteration-wrapper">
    <m:foreach collection="integers" eachName="integer">

        <p class="debug">(each) Actual value: <m:text item="integer"/></p>

        <m:if item="integer" eq="99">
            <p class="conditional-bad">Final value: <m:text item="integer"/></p>

            <m:elseif item="integer" eq="1">
                <p class="conditional-ok">Final value (=1): <m:text item="integer"/></p>
            </m:elseif>

            <m:else>
                <p class="conditional-ok">Final value (else): <m:text item="integer"/></p>
            </m:else>
        </m:if>

        <m:if item="integer" eq="88">
            <p class="conditional-bad">Final value (2): <m:text item="integer"/></p>

            <m:elseif item="integer" eq="3">
                <p class="conditional-ok">Final value (2)(=3): <m:text item="integer"/></p>
            </m:elseif>

            <m:else>
                <p class="conditional-ok">Final value (2)(else): <m:text item="integer"/></p>
            </m:else>
        </m:if>

    </m:foreach>
</div>

<div class="iteration-wrapper">
    <m:foreach collection="strings" eachName="string">

        <p class="debug">(each) Actual value: <m:text item="string"/></p>

        <m:if item="string" eq="Z">
            <p class="conditional-bad">Final value: <m:text item="string"/></p>

            <m:elseif item="string" eq="A">
                <p class="conditional-ok">Final value (=A): <m:text item="string"/></p>
            </m:elseif>

            <m:else>
                <p class="conditional-ok">Final value (else): <m:text item="string"/></p>
            </m:else>
        </m:if>

        <m:if item="string" eq="Q">
            <p class="conditional-bad">Final value(2): <m:text item="string"/></p>

            <m:elseif item="string" eq="B">
                <p class="conditional-ok">Final value (2)(=B): <m:text item="string"/></p>
            </m:elseif>

            <m:else>
                <p class="conditional-ok">Final value (2)(else): <m:text item="string"/></p>
            </m:else>
        </m:if>

    </m:foreach>
</div>


<div class="iteration-wrapper">
    <m:foreach collection="persons" eachName="person">

        <p class="debug">(each) Actual value: <m:text item="person.id"/> / <m:text item="person.name"/></p>

        <m:if item="person.id" eq="Z">
            <p class="conditional-bad">Final value: <m:text item="person.id"/></p>

            <m:elseif item="person.id" eq="1">
                <p class="conditional-ok">Final value (=1): <m:text item="person.id"/></p>
            </m:elseif>

            <m:else>
                <p class="conditional-ok">Final value (else): <m:text item="person.id"/></p>
            </m:else>
        </m:if>

        <m:if item="person.name" eq="Zardos">
            <p class="conditional-bad">Final value(2): <m:text item="person.name"/></p>

            <m:elseif item="person.name" eq="John">
                <p class="conditional-ok">Final value (2)(=John): <m:text item="person.name"/></p>
            </m:elseif>

            <m:else>
                <p class="conditional-ok">Final value (2)(else): <m:text item="person.name"/></p>
            </m:else>
        </m:if>

    </m:foreach>
</div>

<div class="iteration-wrapper">
    <table>
        <m:foreach collection="persons" eachName="person">
            <tr>
                <td>(each) Actual value: <m:text item="person.id"/> / <m:text item="person.name"/></td>
                <td>
                    <m:if item="person.id" eq="Z">
                        <span class="conditional-bad">Final value: <m:text item="person.id"/></span>

                        <m:elseif item="person.id" eq="1">
                            <span class="conditional-ok">Final value (=1): <m:text item="person.id"/></span>
                        </m:elseif>

                        <m:else>
                            <span class="conditional-ok">Final value (else): <m:text item="person.id"/></span>
                        </m:else>
                    </m:if>
                </td>
                <td>
                    <m:if item="person.name" eq="Zardos">
                        <span class="conditional-bad">Final value(2): <m:text item="person.name"/></span>

                        <m:elseif item="person.name" eq="John">
                            <span class="conditional-ok">Final value (2)(=John): <m:text item="person.name"/></span>
                        </m:elseif>

                        <m:else>
                            <span class="conditional-ok">Final value (2)(else): <m:text item="person.name"/></span>
                        </m:else>
                    </m:if>
                </td>
            </tr>
        </m:foreach>
    </table>
</div>

</body>
</html>