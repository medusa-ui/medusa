---
id: okym3
name: Adding a JS Event Attribute Processor (Test doc)
file_version: 1.0.2
app_version: 0.9.6-1
file_blobs:
  medusa-ui/src/main/java/io/getmedusa/medusa/core/tags/action/MedusaOnKeyUp.java: 35bdfe92bf21f241778813f32c9f3db0c7906e12
  medusa-ui/src/main/java/io/getmedusa/medusa/core/tags/meta/JSEventAttributeProcessor.java: 5bb2b83844923d0d968d29344edbe3e454b83325
  medusa-ui/src/main/java/io/getmedusa/medusa/core/tags/action/MedusaOnChange.java: c97b04d825dc3d62cb9a7f26d22f92b14b62458a
  medusa-ui/src/main/java/io/getmedusa/medusa/core/tags/action/MedusaOnEnter.java: d25e16e2c9e5e9cd03dee13861be3b9228de4306
  medusa-ui/src/main/java/io/getmedusa/medusa/core/tags/action/MedusaOnSubmit.java: 75bba9f0d28d3ad3066709c38c27c3f953adfc4f
---

This document covers how to create a new JS Event Attribute Processor.

A JS Event Attribute Processor is {Explain what a JS Event Attribute Processor is and its role in the system}

Some examples of `JSEventAttributeProcessor`[<sup id="2uS9du">â†“</sup>](#f-2uS9du)s are `MedusaOnChange`[<sup id="1MIWs2">â†“</sup>](#f-1MIWs2), `MedusaOnEnter`[<sup id="Z1cV5vL">â†“</sup>](#f-Z1cV5vL), `MedusaOnSubmit`[<sup id="2eLrRG">â†“</sup>](#f-2eLrRG), and `MedusaOnKeyUp`[<sup id="1DEp9i">â†“</sup>](#f-1DEp9i).

## TL;DR - How to Add a `JSEventAttributeProcessor`[<sup id="2uS9du">â†“</sup>](#f-2uS9du)

1.  Create a new class inheriting from `JSEventAttributeProcessor`[<sup id="2uS9du">â†“</sup>](#f-2uS9du)Â 
    
    *   Place the file under `ðŸ“„ medusa-ui/src/main/java/io/getmedusa/medusa/core/tags/action`, e.g. `MedusaOnKeyUp`[<sup id="1DEp9i">â†“</sup>](#f-1DEp9i) is defined in `ðŸ“„ medusa-ui/src/main/java/io/getmedusa/medusa/core/tags/action/MedusaOnKeyUp.java`.
        
2.  Implement `doProcess`[<sup id="2qWceK">â†“</sup>](#f-2qWceK).
    
3.  **Profit** ðŸ’°
    

## Example Walkthrough - `MedusaOnKeyUp`[<sup id="1DEp9i">â†“</sup>](#f-1DEp9i)

We'll follow the implementation of `MedusaOnKeyUp`[<sup id="1DEp9i">â†“</sup>](#f-1DEp9i) for this example.

A `MedusaOnKeyUp`[<sup id="1DEp9i">â†“</sup>](#f-1DEp9i) is {Explain what MedusaOnKeyUp is and how it works with the JS Event Attribute Processor interface}

## Steps to Adding a new `JSEventAttributeProcessor`[<sup id="2uS9du">â†“</sup>](#f-2uS9du)

### 1\. Inherit from `JSEventAttributeProcessor`[<sup id="2uS9du">â†“</sup>](#f-2uS9du).

All `JSEventAttributeProcessor`[<sup id="2uS9du">â†“</sup>](#f-2uS9du)s are defined in files under `ðŸ“„ medusa-ui/src/main/java/io/getmedusa/medusa/core/tags/action`.

<br/>

We first need to define our class in the relevant file, and inherit from `JSEventAttributeProcessor`[<sup id="2uS9du">â†“</sup>](#f-2uS9du):
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ medusa-ui/src/main/java/io/getmedusa/medusa/core/tags/action/MedusaOnKeyUp.java
```java
â¬œ 11     import static io.getmedusa.medusa.core.tags.annotation.MedusaTag.prefix;
â¬œ 12     
â¬œ 13     @MedusaTag
ðŸŸ© 14     public class MedusaOnKeyUp extends JSEventAttributeProcessor {
â¬œ 15     
â¬œ 16         public static final String PRESSED_KEY_NAME = "key";
â¬œ 17     
```

<br/>

> **Note**: the class name should start with "MedusaOn".

### 2\. Implement `doProcess`[<sup id="2qWceK">â†“</sup>](#f-2qWceK)

Here is how we do it for `MedusaOnKeyUp`[<sup id="1DEp9i">â†“</sup>](#f-1DEp9i):

<br/>



<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ medusa-ui/src/main/java/io/getmedusa/medusa/core/tags/action/MedusaOnKeyUp.java
```java
â¬œ 20         }
â¬œ 21     
â¬œ 22         @Override
ðŸŸ© 23         protected void doProcess(ITemplateContext context, IProcessableElementTag tag, AttributeName attributeName, String attributeValue, IElementTagStructureHandler structureHandler) {
ðŸŸ© 24             String pressedKey = "'Enter'";
ðŸŸ© 25             if(tag.hasAttribute(prefix, PRESSED_KEY_NAME)) {
ðŸŸ© 26                 IAttribute attribute = tag.getAttribute(prefix, PRESSED_KEY_NAME);
ðŸŸ© 27                 pressedKey = attribute.getValue();
ðŸŸ© 28                 if(!pressedKey.matches("[0-9]+")) { // test if keycode is used
ðŸŸ© 29                     pressedKey = "'%s'".formatted(pressedKey);
ðŸŸ© 30                 }
ðŸŸ© 31                 structureHandler.removeAttribute(prefix, PRESSED_KEY_NAME);
ðŸŸ© 32             }
ðŸŸ© 33             attributeValue = replaceAttributeValues(context, attributeValue);
ðŸŸ© 34             attributeValue = replaceElementValues(attributeValue);
ðŸŸ© 35             structureHandler.setAttribute(eventName, eventTemplate.formatted(pressedKey, attributeValue));
ðŸŸ© 36         }
â¬œ 37     
â¬œ 38     }
```

<br/>

<!-- THIS IS AN AUTOGENERATED SECTION. DO NOT EDIT THIS SECTION DIRECTLY -->
### Swimm Note

<span id="f-2qWceK">doProcess</span>[^](#2qWceK) - "medusa-ui/src/main/java/io/getmedusa/medusa/core/tags/action/MedusaOnKeyUp.java" L23
```java
    protected void doProcess(ITemplateContext context, IProcessableElementTag tag, AttributeName attributeName, String attributeValue, IElementTagStructureHandler structureHandler) {
```

<span id="f-2uS9du">JSEventAttributeProcessor</span>[^](#2uS9du) - "medusa-ui/src/main/java/io/getmedusa/medusa/core/tags/meta/JSEventAttributeProcessor.java" L15
```java
public abstract class JSEventAttributeProcessor extends AbstractAttributeTagProcessor {
```

<span id="f-1MIWs2">MedusaOnChange</span>[^](#1MIWs2) - "medusa-ui/src/main/java/io/getmedusa/medusa/core/tags/action/MedusaOnChange.java" L11
```java
public class MedusaOnChange extends JSEventAttributeProcessor {
```

<span id="f-Z1cV5vL">MedusaOnEnter</span>[^](#Z1cV5vL) - "medusa-ui/src/main/java/io/getmedusa/medusa/core/tags/action/MedusaOnEnter.java" L11
```java
public class MedusaOnEnter extends JSEventAttributeProcessor {
```

<span id="f-1DEp9i">MedusaOnKeyUp</span>[^](#1DEp9i) - "medusa-ui/src/main/java/io/getmedusa/medusa/core/tags/action/MedusaOnKeyUp.java" L14
```java
public class MedusaOnKeyUp extends JSEventAttributeProcessor {
```

<span id="f-2eLrRG">MedusaOnSubmit</span>[^](#2eLrRG) - "medusa-ui/src/main/java/io/getmedusa/medusa/core/tags/action/MedusaOnSubmit.java" L11
```java
public class MedusaOnSubmit extends JSEventAttributeProcessor {
```

<br/>

This file was generated by Swimm. [Click here to view it in the app](https://app.swimm.io/repos/Z2l0aHViJTNBJTNBbWVkdXNhJTNBJTNBbWVkdXNhLXVp/docs/okym3).